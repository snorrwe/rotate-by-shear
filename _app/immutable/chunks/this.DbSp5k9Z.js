import{S as R,o as q,j as F,s as _,k as L,m as g,q as E,U as l,r as N,t as B,v as C,w as H,x as K,b as M,h as I,y as U,E as Y,H as z,z as G,A as Z,B as D,C as O,d as S,D as k,f as J,F as Q,G as V,a as W,I as X}from"./runtime.CZB9YQP5.js";function w(a,d=null,b){if(typeof a!="object"||a===null||R in a)return a;const v=H(a);if(v!==q&&v!==F)return a;var r=new Map,n=K(a),y=_(0);n&&r.set("length",_(a.length));var h;return new Proxy(a,{defineProperty(s,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&L();var i=r.get(e);return i===void 0?(i=_(t.value),r.set(e,i)):g(i,w(t.value,h)),!0},deleteProperty(s,e){var t=r.get(e);if(t===void 0)e in s&&r.set(e,_(l));else{if(n&&typeof e=="string"){var i=r.get("length"),f=Number(e);Number.isInteger(f)&&f<i.v&&g(i,f)}g(t,l),m(y)}return!0},get(s,e,t){var c;if(e===R)return a;var i=r.get(e),f=e in s;if(i===void 0&&(!f||(c=E(s,e))!=null&&c.writable)&&(i=_(w(f?s[e]:l,h)),r.set(e,i)),i!==void 0){var u=N(i);return u===l?void 0:u}return Reflect.get(s,e,t)},getOwnPropertyDescriptor(s,e){var t=Reflect.getOwnPropertyDescriptor(s,e);if(t&&"value"in t){var i=r.get(e);i&&(t.value=N(i))}else if(t===void 0){var f=r.get(e),u=f==null?void 0:f.v;if(f!==void 0&&u!==l)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return t},has(s,e){var u;if(e===R)return!0;var t=r.get(e),i=t!==void 0&&t.v!==l||Reflect.has(s,e);if(t!==void 0||B!==null&&(!i||(u=E(s,e))!=null&&u.writable)){t===void 0&&(t=_(i?w(s[e],h):l),r.set(e,t));var f=N(t);if(f===l)return!1}return i},set(s,e,t,i){var A;var f=r.get(e),u=e in s;if(n&&e==="length")for(var c=t;c<f.v;c+=1){var o=r.get(c+"");o!==void 0?g(o,l):c in s&&(o=_(l),r.set(c+"",o))}f===void 0?(!u||(A=E(s,e))!=null&&A.writable)&&(f=_(void 0),g(f,w(t,h)),r.set(e,f)):(u=f.v!==l,g(f,w(t,h)));var x=Reflect.getOwnPropertyDescriptor(s,e);if(x!=null&&x.set&&x.set.call(i,t),!u){if(n&&typeof e=="string"){var P=r.get("length"),T=Number(e);Number.isInteger(T)&&T>=P.v&&g(P,T+1)}m(y)}return!0},ownKeys(s){N(y);var e=Reflect.ownKeys(s).filter(f=>{var u=r.get(f);return u===void 0||u.v!==l});for(var[t,i]of r)i.v!==l&&!(t in s)&&e.push(t);return e},setPrototypeOf(){C()}})}function m(a,d=1){g(a,a.v+d)}function p(a,d,b=!1){I&&U();var v=a,r=null,n=null,y=l,h=b?Y:0,s=!1;const e=(i,f=!0)=>{s=!0,t(f,i)},t=(i,f)=>{if(y===(y=i))return;let u=!1;if(I){const c=v.data===z;!!y===c&&(v=G(),Z(v),D(!1),u=!0)}y?(r?O(r):f&&(r=S(()=>f(v))),n&&k(n,()=>{n=null})):(n?O(n):f&&(n=S(()=>f(v))),r&&k(r,()=>{r=null})),u&&D(!0)};M(()=>{s=!1,d(e),s||t(null,null)},h),I&&(v=J)}function j(a,d){return a===d||(a==null?void 0:a[R])===d}function ee(a={},d,b,v){return Q(()=>{var r,n;return V(()=>{r=n,n=[],W(()=>{a!==b(...n)&&(d(a,...n),r&&j(b(...r),a)&&d(null,...r))})}),()=>{X(()=>{n&&j(b(...n),a)&&d(null,...n)})}}),a}export{ee as b,p as i,w as p};
